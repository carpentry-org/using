(definterface close (Fn [a] ()))

(defmacro using [f name body]
  (list 'let-do (array name f)
    body
    (list 'close name)))

(defmacro using-do [f name :rest body]
  (cons-last
    (list 'close name)
    (cons 'let-do
      (cons (array name f) body))))
